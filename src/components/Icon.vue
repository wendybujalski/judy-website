<template>
    <div v-if="!link" class="icon cursor-pointer">
        <svg :width="s" :height="s" viewBox="0 0 20 20" :class="growOnHover ? 'hgrow' : ''">
            <path :d="path"></path>
        </svg>
    </div>
    <n-tooltip v-else-if="copyInsteadOfLink" trigger="click">
        <template #trigger>
            <span class="icon" @click="copyLink">
                <svg :width="s" :height="s" viewBox="0 0 20 20" :class="growOnHover ? 'hgrow' : ''">
                    <path :d="path"></path>
                </svg>
            </span>
        </template>
        <span>Email Copied!</span>
    </n-tooltip>
    <a v-else :href="link" target="_blank" class="icon">
        <svg :width="s" :height="s" viewBox="0 0 20 20" :class="growOnHover ? 'hgrow' : ''">
            <path :d="path"></path>
        </svg>
    </a>
</template>

  
<script lang="ts" setup>
import { computed } from '@vue/reactivity';
import type { PropType } from 'vue';

const icons: Record<string, string> = {
    insta: "M17 1H3c-1.1 0-2 .9-2 2v14c0 1.101.9 2 2 2h14c1.1 0 2-.899 2-2V3c0-1.1-.9-2-2-2zM9.984 15.523a5.539 5.539 0 0 0 5.538-5.539c0-.338-.043-.664-.103-.984H17v7.216a.69.69 0 0 1-.693.69H3.693a.69.69 0 0 1-.693-.69V9h1.549c-.061.32-.104.646-.104.984a5.54 5.54 0 0 0 5.539 5.539zM6.523 9.984a3.461 3.461 0 1 1 6.922 0a3.461 3.461 0 0 1-6.922 0zM16.307 6h-1.615A.694.694 0 0 1 14 5.308V3.691c0-.382.31-.691.691-.691h1.615c.384 0 .694.309.694.691v1.616c0 .381-.31.693-.693.693z",
    email: "m1.574 5.286l7.5 4.029c.252.135.578.199.906.199c.328 0 .654-.064.906-.199l7.5-4.029c.489-.263.951-1.286.054-1.286H1.521c-.897 0-.435 1.023.053 1.286zm17.039 2.203l-7.727 4.027c-.34.178-.578.199-.906.199s-.566-.021-.906-.199s-7.133-3.739-7.688-4.028C.996 7.284 1 7.523 1 7.707V15c0 .42.566 1 1 1h16c.434 0 1-.58 1-1V7.708c0-.184.004-.423-.387-.219z",
    smile: "M10 .4A9.6 9.6 0 0 0 .4 10a9.6 9.6 0 1 0 19.2-.001C19.6 4.698 15.301.4 10 .4zm0 17.199A7.6 7.6 0 1 1 10 2.4a7.6 7.6 0 1 1 0 15.199zM7.501 9.75C8.329 9.75 9 8.967 9 8s-.672-1.75-1.5-1.75S6 7.033 6 8s.672 1.75 1.501 1.75zm4.999 0c.829 0 1.5-.783 1.5-1.75s-.672-1.75-1.5-1.75S11 7.034 11 8s.672 1.75 1.5 1.75zm1.841 1.586a.756.756 0 0 0-1.008.32c-.034.066-.869 1.593-3.332 1.593c-2.451 0-3.291-1.513-3.333-1.592a.75.75 0 0 0-1.339.678c.05.099 1.248 2.414 4.672 2.414c3.425 0 4.621-2.316 4.67-2.415a.745.745 0 0 0-.33-.998z",
    burger: "M16.4 9H3.6c-.552 0-.6.447-.6 1c0 .553.048 1 .6 1h12.8c.552 0 .6-.447.6-1c0-.553-.048-1-.6-1zm0 4H3.6c-.552 0-.6.447-.6 1c0 .553.048 1 .6 1h12.8c.552 0 .6-.447.6-1c0-.553-.048-1-.6-1zM3.6 7h12.8c.552 0 .6-.447.6-1c0-.553-.048-1-.6-1H3.6c-.552 0-.6.447-.6 1c0 .553.048 1 .6 1z",
    painting: "M16.22 13.956c1.044-3.896-1.428-7.92-5.489-9.008c-4.586-1.23-11.095 1.964-9.647 6.061c.48 1.355 1.404 1.672 3.147 1.697l.109.002c.921.011 1.18.071 1.258.197c.127.208.129.539-.014 1.45c-.068.43-.09.58-.116.815c-.159 1.431.083 2.547 1.02 3.557c2.928 3.153 8.553-.373 9.732-4.771ZM2.97 10.341c-.729-2.06 3.936-4.349 7.243-3.463c3.017.809 4.826 3.754 4.075 6.559c-.838 3.128-4.782 5.6-6.334 3.928c-.48-.516-.599-1.068-.498-1.975c.021-.194.041-.328.104-.726c.219-1.397.216-2.035-.258-2.806c-.594-.967-1.3-1.13-2.937-1.151l-.106-.002c-.964-.013-1.193-.092-1.29-.364Z M6 10a1.25 1.25 0 1 1 0-2.5A1.25 1.25 0 0 1 6 10Zm3.75 0a1.25 1.25 0 1 1 0-2.5a1.25 1.25 0 0 1 0 2.5Zm2.5 3a1.25 1.25 0 1 1 0-2.5a1.25 1.25 0 0 1 0 2.5Zm-1.5 3.5a1.25 1.25 0 1 1 0-2.5a1.25 1.25 0 0 1 0 2.5Zm3.62-12.895a1 1 0 0 1 1.371.443l4.093 8.4a.652.652 0 0 1-1.149.611l-4.708-8.07a.998.998 0 0 1 .394-1.384Z M12.537 3.484c.487.915 1.306 1.171 2.098.75c.791-.42 1.038-1.243.551-2.158C14.63 1.028 13.438.078 12.648.497c-.79.42-.668 1.939-.11 2.987Zm.883-.47a3.165 3.165 0 0 1-.32-1.137a1.975 1.975 0 0 1 .018-.496l.018.009c.05.024.205.096.403.254c.302.241.602.596.764.901c.229.43.164.646-.138.807c-.3.16-.516.092-.745-.337Z",
    video: "m15 11.25 3.75-1.25v6.25l-3.75-1.25v1.875a.625.625 0 0 1-.625.625H1.875a.625.625 0 0 1-.625-.625V9.375a.625.625 0 0 1 .625-.625h12.5a.625.625 0 0 1 .625.625v1.875zM3.75 15v1.25h7.5v-1.25H3.75zm3.75-9.375a3.125 3.125 0 0 1 6.25 0 3.125 3.125 0 0 1-6.25 0zm1.25 0a1.875 1.875 0 1 0 3.751-.001A1.875 1.875 0 0 0 8.75 5.625zm-6.25.625a2.5 2.5 0 1 1 5.001.001A2.5 2.5 0 0 1 2.5 6.25zm1.25 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0z",
    //alt video icon - "M1.823 10.146a.457.457 0 0 0-.456.458v7.566c0 .253.204.458.456.458H14.99a.457.457 0 0 0 .455-.458v-7.566a.457.457 0 0 0-.455-.458H1.823ZM14.99 8.774c1.006 0 1.822.819 1.822 1.83v7.566c0 1.01-.816 1.83-1.822 1.83H1.823A1.826 1.826 0 0 1 0 18.17v-7.566c0-1.011.816-1.83 1.823-1.83H14.99ZM20 12.69v3.482c0 .435-.397.76-.821.672l-1.433-.296v-1.402l.887.184v-1.792l-.887.189v-1.403l1.428-.305a.684.684 0 0 1 .826.67Zm-14.987.447c-1.007 0-1.823.82-1.823 1.83c0 1.01.816 1.83 1.823 1.83c1.007 0 1.823-.82 1.823-1.83c0-1.01-.816-1.83-1.823-1.83Zm0 .915c.503 0 .911.41.911.915a.913.913 0 0 1-.911.915a.913.913 0 0 1-.912-.915c0-.506.408-.915.912-.915ZM12.699.1a3.881 3.881 0 0 1 3.874 3.888a3.881 3.881 0 0 1-3.874 3.889a3.881 3.881 0 0 1-3.873-3.889A3.881 3.881 0 0 1 12.699.1ZM4.101 0a3.881 3.881 0 0 1 3.874 3.889A3.881 3.881 0 0 1 4.1 7.777A3.881 3.881 0 0 1 .228 3.89A3.881 3.881 0 0 1 4.1 0ZM12.7 1.472a2.511 2.511 0 0 0-2.506 2.516A2.511 2.511 0 0 0 12.7 6.504a2.511 2.511 0 0 0 2.507-2.516A2.511 2.511 0 0 0 12.7 1.472Zm-8.598-.1A2.511 2.511 0 0 0 1.595 3.89a2.511 2.511 0 0 0 2.506 2.516A2.511 2.511 0 0 0 6.608 3.89A2.511 2.511 0 0 0 4.1 1.372Z",
    bio: "M10 1.25a7.516 7.516 0 0 0-7.5 7.5c0 1.875.984 4.305 2.625 6.484s3.477 3.516 4.875 3.516 3.219-1.312 4.875-3.516 2.625-4.609 2.625-6.484a7.516 7.516 0 0 0-7.5-7.5Zm3.875 13.234C12.516 16.289 10.961 17.5 10 17.5s-2.516-1.211-3.875-3.016C4.656 12.539 3.75 10.344 3.75 8.75a6.25 6.25 0 0 1 12.5 0c0 1.594-.906 3.789-2.375 5.734ZM9.375 10.938v-.312a3.125 3.125 0 0 0-3.125-3.125 1.25 1.25 0 0 0-1.25 1.25v.313a3.125 3.125 0 0 0 3.125 3.125 1.25 1.25 0 0 0 1.25-1.25Zm-3.125-1.875v-.312a1.883 1.883 0 0 1 1.875 1.875v.313a1.883 1.883 0 0 1-1.875-1.875Zm7.5-1.562a3.125 3.125 0 0 0-3.125 3.125v.313a1.25 1.25 0 0 0 1.25 1.25 3.125 3.125 0 0 0 3.125-3.125v-.312a1.25 1.25 0 0 0-1.25-1.25Zm0 1.563a1.883 1.883 0 0 1-1.875 1.875v-.312a1.883 1.883 0 0 1 1.875-1.875Zm-1.875 5.313a.625.625 0 0 1-.625.625h-2.5a.625.625 0 0 1 0-1.25h2.5a.625.625 0 0 1 .625.625Z",
    contact: "M10.588 1.648a1.25 1.25 0 0 0-1.175 0l-7.5 4A1.25 1.25 0 0 0 1.25 6.75v1.021l4.044 2.425a3.45 3.45 0 0 0-.291 1.284L1.25 9.23v7.166l4.349-2.609c.188.344 .419.691 .697 1.037l-5.002 3.002A1.25 1.25 0 0 0 2.5 18.75h15a1.25 1.25 0 0 0 1.206-.922l-5.002-3.001c.279-.348.51-.695.697-1.039L18.75 16.396V9.229l-3.752 2.251a3.45 3.45 0 0 0-.291-1.282L18.75 7.771V6.75a1.25 1.25 0 0 0-.662-1.102l-7.5-4ZM8.825.544a2.5 2.5 0 0 1 2.353 0l7.5 4A2.5 2.5 0 0 1 20 6.75V17.5a2.5 2.5 0 0 1-2.5 2.5H2.5a2.5 2.5 0 0 1-2.5-2.5V6.75a2.5 2.5 0 0 1 1.324-2.206l7.5-4ZM10 9.991c2.08-2.139 7.281 1.604 0 6.415-7.281-4.812-2.08-8.554 0-6.415Z",
};

type Size = "sm" | "md" | "lg" | "xl";

const sizes: Record<Size, any> = {
    sm: "1em",
    md: "2em",
    lg: "3em",
    xl: "4em",
}

const props = defineProps({
    name: { type: String, default: "smile" },
    link: { type: String, default: "" },
    copyInsteadOfLink: { type: Boolean, default: false },
    growOnHover: { type: Boolean, default: false },
    size: { type: String as PropType<Size>, default: "md" },
})

const path = computed(() => {
    return icons[props.name];
});

const s = computed(() => {
    return sizes[props.size];
});

const copyLink = () => {
    navigator.clipboard.writeText(props.link);
};
</script>

<style scoped>
.icon path {
    fill: white;
}

/* .icon:hover path {
    fill: magenta;
} */

.icon:hover {
    animation: icon-shadow 1s ease-in-out infinite alternate;
}

@media (min-width: 768px) {
    .icon .hgrow {
        transition: all 0.1s;
    }

    .icon:hover .hgrow {
        transform: scale(2);
    }
}
</style>